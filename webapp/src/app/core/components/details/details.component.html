<!-- Section principale -->
<section class="py-12 bg-white md:py-16 dark:bg-gray-900 antialiased">
  <div class="max-w-screen-xl px-6 mx-auto 2xl:px-0">
    <div class="lg:grid lg:grid-cols-2 lg:gap-12 xl:gap-16">
      <!-- Colonne gauche : Images -->
      <div>
        <div class="shrink-0 max-w-md lg:max-w-lg mx-auto mb-6">
          <img
            class="w-full rounded-lg shadow-xl transition-transform duration-300 hover:scale-105"
            [src]="selectedImage || espace?.image"
            [alt]="espace?.nom"
          />
        </div>
        <div class="grid grid-cols-3 sm:grid-cols-4 md:grid-cols-5 gap-4 mt-4">
          <div *ngFor="let image of espace?.images" class="cursor-pointer">
            <img
              class="h-auto max-w-full rounded-lg shadow-md hover:scale-105 transition-transform duration-300 ease-in-out"
              [src]="image"
              [alt]="espace?.nom"
              (click)="changeImage(image)"
            />
          </div>
        </div>
      </div>

      <!-- Colonne droite : Détails -->
      <div class="mt-8 lg:mt-0">
        <h1 class="text-3xl font-bold text-gray-900 sm:text-4xl dark:text-white">
          <i class="ph ph-building" aria-hidden="true"></i> {{ espace?.nom }}
        </h1>
        <p class="text-xl font-semibold text-gray-700 sm:text-2xl dark:text-gray-300 mt-2">
          {{ espace?.ville }}
        </p>
        <p class="mt-4 text-gray-500 dark:text-gray-400">
          {{ espace?.localisation }}
        </p>

        <!-- Options disponibles -->
        <div *ngIf="espace?.option?.length > 0" class="mt-6">
          <h3 class="text-lg font-semibold text-gray-900 dark:text-white mb-4">Options disponibles :</h3>
          <ul class="grid grid-cols-2 gap-4 text-gray-700 dark:text-gray-300">
            <li *ngFor="let opt of espace?.option" class="flex items-center space-x-2">
              <span [innerHTML]="getOptionIcon(opt)"></span>
              <span>{{ opt }}</span>
            </li>
          </ul>
        </div>

        <hr class="my-6 border-gray-200 dark:border-gray-800" />
        <p class="text-gray-500 dark:text-gray-400">
          {{ espace?.description }}
        </p>
      </div>
    </div>
  </div>
</section>

<!-- Section des espaces disponibles -->
<section *ngIf="espace" class="py-16 px-6 lg:px-20 bg-gray-50 dark:bg-gray-800">
  <div class="text-center mb-10">
    <h3 class="text-3xl font-bold text-gray-900 dark:text-white">Espaces disponibles</h3>
    <p class="mt-4 text-gray-600 dark:text-gray-300 max-w-3xl mx-auto">
      Notre espace de coworking comprend plusieurs zones adaptées à différents besoins. Vous y trouverez une variété d'espaces conçus pour favoriser la productivité, la collaboration et le confort.
    </p>
  </div>

  <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-12">
    <div *ngFor="let key of getEspaceDisponibleKeys()" class="bg-white border border-gray-200 rounded-lg shadow-lg dark:bg-gray-700 dark:border-gray-600">
      <a href="#">
        <img class="p-6 rounded-t-lg w-full" [src]="espace.espace_disponible[key]?.image" alt="{{ key }} image" />
      </a>
      <div class="px-6 pb-6">
        <h5 class="text-xl font-semibold text-gray-900 dark:text-white">{{ key }}</h5>
        <ul class="mt-3 space-y-2 text-gray-700 dark:text-gray-300">
          <li><i class="ph ph-users mr-2"></i> Nombre de salles : {{ espace.espace_disponible[key]?.nbredesalledispo }}</li>
          <li><i class="ph ph-door-open mr-2"></i> Capacité : {{ espace.espace_disponible[key]?.capacite }}</li>
        </ul>
        <div class="flex items-center justify-between mt-6">
          <span class="text-2xl font-bold text-gray-900 dark:text-white">{{ espace.espace_disponible[key]?.prixparjour || espace.espace_disponible[key]?.prix }} DT</span>
          <a [routerLink]="['/user/espace', espace?.id, key]" class="text-white bg-blue-600 hover:bg-blue-700 focus:ring-4 focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center">Réserver</a>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- Google Maps Iframe -->
<div class="mt-8 flex justify-center">
  <div class="w-full max-w-6xl">
    <p class="text-center text-gray-700 dark:text-gray-300 mb-4">
      Pour connaître l'emplacement exact de notre espace de coworking, suivez cette carte. Elle vous guidera directement vers nous et vous permettra de découvrir nos installations en toute simplicité.
    </p>
    <iframe
      [src]="mapsURL"
      width="100%"
      height="550"
      class="rounded-lg shadow-lg"
      frameborder="0"
      allowfullscreen
      webkitallowfullscreen
      mozallowfullscreen
    ></iframe>
  </div>
</div>